{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasbrown/Source/openlaw/components/ProposalForm.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport styled from \"styled-components\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport ContentContainer from \"./ContentContainer\";\nimport RichTextEditor from \"./RIchTextEditor\";\nimport MainLayout from \"../layouts/MainLayout\";\nimport { CREATE_PROPOSAL_MUTATION } from \"../mutations\";\nconst SubNav = styled.div.withConfig({\n  displayName: \"ProposalForm__SubNav\",\n  componentId: \"wxmutf-0\"\n})([\"display:flex;justify-content:space-between;align-items:center;height:100px;\"]);\nconst Title = styled.h1.withConfig({\n  displayName: \"ProposalForm__Title\",\n  componentId: \"wxmutf-1\"\n})([\"line-height:1;margin:0;\"]);\nconst CreateButton = styled.button.withConfig({\n  displayName: \"ProposalForm__CreateButton\",\n  componentId: \"wxmutf-2\"\n})([\"border:none;background:#372237;border-radius:2px;color:white;font-size:18px;padding:10px;&:hover{cursor:pointer;}\"]);\nconst Form = styled.form.withConfig({\n  displayName: \"ProposalForm__Form\",\n  componentId: \"wxmutf-3\"\n})([\"padding:40px 0;\"]);\nconst TitleInput = styled.input.withConfig({\n  displayName: \"ProposalForm__TitleInput\",\n  componentId: \"wxmutf-4\"\n})([\"font-size:18px;padding:12px 10px;width:100%;\"]);\nconst DescriptionInput = styled.textarea.withConfig({\n  displayName: \"ProposalForm__DescriptionInput\",\n  componentId: \"wxmutf-5\"\n})([\"font-size:18px;margin-top:30px;resize:none;padding:12px 10px;width:100%;\"]);\nconst SummaryInput = styled(RichTextEditor).withConfig({\n  displayName: \"ProposalForm__SummaryInput\",\n  componentId: \"wxmutf-6\"\n})([\"font-size:18px;margin-top:30px;\"]);\nconst LegalInput = styled(RichTextEditor).withConfig({\n  displayName: \"ProposalForm__LegalInput\",\n  componentId: \"wxmutf-7\"\n})([\"font-size:18px;margin-top:30px;\"]);\n\nfunction ProposalForm({\n  formTitle,\n  initialDescription\n}) {\n  const router = useRouter();\n  const {\n    0: title,\n    1: setTitle\n  } = useState(\"\");\n  const {\n    0: description,\n    1: setDescription\n  } = useState(\"\");\n  const {\n    0: summary,\n    1: setSummary\n  } = useState(\"\");\n  const {\n    0: legal,\n    1: setLegal\n  } = useState(\"\");\n  const [createProposal, {\n    data\n  }] = useMutation(CREATE_PROPOSAL_MUTATION, {\n    onCompleted() {\n      router.push(\"/\", \"/\", {\n        getInitialProps: true\n      });\n    }\n\n  });\n\n  const handleSubmit = () => {\n    createProposal({\n      variables: {\n        title,\n        description,\n        summary,\n        legal\n      }\n    });\n  };\n\n  return __jsx(MainLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(ContentContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, __jsx(SubNav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, __jsx(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, formTitle), __jsx(CreateButton, {\n    onClick: () => handleSubmit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Create\")), __jsx(Form, {\n    onSubmit: () => handleSubmit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(TitleInput, {\n    placeholder: \"Title\",\n    onChange: e => setTitle(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), __jsx(DescriptionInput, {\n    placeholder: \"Description\",\n    value: description || initialDescription,\n    rows: 4,\n    onChange: e => setDescription(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), __jsx(SummaryInput, {\n    placeholder: \"Summary\",\n    onChange: setSummary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), __jsx(LegalInput, {\n    placeholder: \"Legal\",\n    onChange: setLegal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }))));\n}\n\nexport default ProposalForm;","map":{"version":3,"sources":["/Users/nicholasbrown/Source/openlaw/components/ProposalForm.js"],"names":["React","useState","useRouter","styled","useMutation","ContentContainer","RichTextEditor","MainLayout","CREATE_PROPOSAL_MUTATION","SubNav","div","Title","h1","CreateButton","button","Form","form","TitleInput","input","DescriptionInput","textarea","SummaryInput","LegalInput","ProposalForm","formTitle","initialDescription","router","title","setTitle","description","setDescription","summary","setSummary","legal","setLegal","createProposal","data","onCompleted","push","getInitialProps","handleSubmit","variables","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport styled from \"styled-components\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport ContentContainer from \"./ContentContainer\";\nimport RichTextEditor from \"./RIchTextEditor\";\nimport MainLayout from \"../layouts/MainLayout\";\nimport { CREATE_PROPOSAL_MUTATION } from \"../mutations\";\n\nconst SubNav = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100px;\n`;\n\nconst Title = styled.h1`\n  line-height: 1;\n  margin: 0;\n`;\n\nconst CreateButton = styled.button`\n  border: none;\n  background: #372237;\n  border-radius: 2px;\n  color: white;\n  font-size: 18px;\n  padding: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst Form = styled.form`\n  padding: 40px 0;\n`;\n\nconst TitleInput = styled.input`\n  font-size: 18px;\n  padding: 12px 10px;\n  width: 100%;\n`;\n\nconst DescriptionInput = styled.textarea`\n  font-size: 18px;\n  margin-top: 30px;\n  resize: none;\n  padding: 12px 10px;\n  width: 100%;\n`;\n\nconst SummaryInput = styled(RichTextEditor)`\n  font-size: 18px;\n  margin-top: 30px;\n`;\n\nconst LegalInput = styled(RichTextEditor)`\n  font-size: 18px;\n  margin-top: 30px;\n`;\n\nfunction ProposalForm({ formTitle, initialDescription }) {\n  const router = useRouter();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [summary, setSummary] = useState(\"\");\n  const [legal, setLegal] = useState(\"\");\n  const [createProposal, { data }] = useMutation(CREATE_PROPOSAL_MUTATION, {\n    onCompleted() {\n      router.push(\"/\", \"/\", {\n        getInitialProps: true\n      });\n    }\n  });\n\n  const handleSubmit = () => {\n    createProposal({\n      variables: {\n        title,\n        description,\n        summary,\n        legal\n      }\n    });\n  };\n\n  return (\n    <MainLayout>\n      <ContentContainer>\n        <SubNav>\n          <Title>{formTitle}</Title>\n          <CreateButton onClick={() => handleSubmit()}>Create</CreateButton>\n        </SubNav>\n        <Form onSubmit={() => handleSubmit()}>\n          <TitleInput\n            placeholder=\"Title\"\n            onChange={e => setTitle(e.target.value)}\n          />\n          <DescriptionInput\n            placeholder=\"Description\"\n            value={description || initialDescription}\n            rows={4}\n            onChange={e => setDescription(e.target.value)}\n          />\n          <SummaryInput placeholder=\"Summary\" onChange={setSummary} />\n          <LegalInput placeholder=\"Legal\" onChange={setLegal} />\n        </Form>\n      </ContentContainer>\n    </MainLayout>\n  );\n}\n\nexport default ProposalForm;\n"]},"metadata":{},"sourceType":"module"}