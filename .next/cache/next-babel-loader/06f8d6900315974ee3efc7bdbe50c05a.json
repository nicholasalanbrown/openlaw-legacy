{"ast":null,"code":"import fetch from \"isomorphic-unfetch\";\nexport const getProposals = async () => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects`).then(response => response.json()).then(data => data);\n  return res;\n};\nexport const getProposalBranches = async gitlabProjectId => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/branches`).then(response => response.json()).then(data => data);\n  return res;\n};\nexport const getProposalMetadata = async (gitlabProjectId, refName = \"master\") => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/metadata%2Ejson/raw?ref=${refName}`).then(response => response.json()).then(data => data);\n  return res;\n};\nexport const getProposalSummary = async (gitlabProjectId, refName = \"master\") => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/summary%2Emd/raw?ref=${refName}`).then(response => response.text()).then(data => data);\n  return res;\n};\nexport const getProposalLegal = async (gitlabProjectId, refName = \"master\") => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/legal%2Emd/raw?ref=${refName}`).then(response => response.text()).then(data => data);\n  return res;\n};\nexport { default as PROPOSALS_QUERY } from \"./proposals.query\";","map":{"version":3,"sources":["/Users/nicholasbrown/Source/openlaw/queries/index.js"],"names":["fetch","getProposals","res","process","env","GITLAB_BASE_URL","then","response","json","data","getProposalBranches","gitlabProjectId","getProposalMetadata","refName","getProposalSummary","text","getProposalLegal","default","PROPOSALS_QUERY"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,OAAO,MAAMC,YAAY,GAAG,YAAY;AACtC,QAAMC,GAAG,GAAG,MAAMF,KAAK,CAAE,GAAEG,OAAO,CAACC,GAAR,CAAYC,eAAgB,WAAhC,CAAL,CACfC,IADe,CACVC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADF,EAEfF,IAFe,CAEVG,IAAI,IAAIA,IAFE,CAAlB;AAGA,SAAOP,GAAP;AACD,CALM;AAOP,OAAO,MAAMQ,mBAAmB,GAAG,MAAMC,eAAN,IAAyB;AAC1D,QAAMT,GAAG,GAAG,MAAMF,KAAK,CACpB,GAAEG,OAAO,CAACC,GAAR,CAAYC,eAAgB,aAAYM,eAAgB,sBADtC,CAAL,CAGfL,IAHe,CAGVC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHF,EAIfF,IAJe,CAIVG,IAAI,IAAIA,IAJE,CAAlB;AAKA,SAAOP,GAAP;AACD,CAPM;AASP,OAAO,MAAMU,mBAAmB,GAAG,OACjCD,eADiC,EAEjCE,OAAO,GAAG,QAFuB,KAG9B;AACH,QAAMX,GAAG,GAAG,MAAMF,KAAK,CACpB,GAAEG,OAAO,CAACC,GAAR,CAAYC,eAAgB,aAAYM,eAAgB,6CAA4CE,OAAQ,EAD1F,CAAL,CAGfP,IAHe,CAGVC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHF,EAIfF,IAJe,CAIVG,IAAI,IAAIA,IAJE,CAAlB;AAKA,SAAOP,GAAP;AACD,CAVM;AAYP,OAAO,MAAMY,kBAAkB,GAAG,OAChCH,eADgC,EAEhCE,OAAO,GAAG,QAFsB,KAG7B;AACH,QAAMX,GAAG,GAAG,MAAMF,KAAK,CACpB,GAAEG,OAAO,CAACC,GAAR,CAAYC,eAAgB,aAAYM,eAAgB,0CAAyCE,OAAQ,EADvF,CAAL,CAGfP,IAHe,CAGVC,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EAHF,EAIfT,IAJe,CAIVG,IAAI,IAAIA,IAJE,CAAlB;AAKA,SAAOP,GAAP;AACD,CAVM;AAYP,OAAO,MAAMc,gBAAgB,GAAG,OAAOL,eAAP,EAAwBE,OAAO,GAAG,QAAlC,KAA+C;AAC7E,QAAMX,GAAG,GAAG,MAAMF,KAAK,CACpB,GAAEG,OAAO,CAACC,GAAR,CAAYC,eAAgB,aAAYM,eAAgB,wCAAuCE,OAAQ,EADrF,CAAL,CAGfP,IAHe,CAGVC,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EAHF,EAIfT,IAJe,CAIVG,IAAI,IAAIA,IAJE,CAAlB;AAKA,SAAOP,GAAP;AACD,CAPM;AASP,SAASe,OAAO,IAAIC,eAApB,QAA2C,mBAA3C","sourcesContent":["import fetch from \"isomorphic-unfetch\";\n\nexport const getProposals = async () => {\n  const res = await fetch(`${process.env.GITLAB_BASE_URL}/projects`)\n    .then(response => response.json())\n    .then(data => data);\n  return res;\n};\n\nexport const getProposalBranches = async gitlabProjectId => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/branches`\n  )\n    .then(response => response.json())\n    .then(data => data);\n  return res;\n};\n\nexport const getProposalMetadata = async (\n  gitlabProjectId,\n  refName = \"master\"\n) => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/metadata%2Ejson/raw?ref=${refName}`\n  )\n    .then(response => response.json())\n    .then(data => data);\n  return res;\n};\n\nexport const getProposalSummary = async (\n  gitlabProjectId,\n  refName = \"master\"\n) => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/summary%2Emd/raw?ref=${refName}`\n  )\n    .then(response => response.text())\n    .then(data => data);\n  return res;\n};\n\nexport const getProposalLegal = async (gitlabProjectId, refName = \"master\") => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/legal%2Emd/raw?ref=${refName}`\n  )\n    .then(response => response.text())\n    .then(data => data);\n  return res;\n};\n\nexport { default as PROPOSALS_QUERY } from \"./proposals.query\";\n"]},"metadata":{},"sourceType":"module"}