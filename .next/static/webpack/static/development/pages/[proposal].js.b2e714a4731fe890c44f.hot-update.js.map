{"version":3,"file":"static/webpack/static/development/pages/[proposal].js.b2e714a4731fe890c44f.hot-update.js","sources":["webpack:///./pages/[proposal].js","webpack:///./queries/index.js"],"sourcesContent":["import fetch from \"isomorphic-unfetch\";\nimport styled from \"styled-components\";\nimport MeactMarkdown from \"react-markdown\";\n\nimport MainLayout from \"../layouts/MainLayout\";\nimport { getProposalMetadata, getProposalSummary } from \"../queries\";\nimport ReactMarkdown from \"react-markdown\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Containter = styled.div`\n  font-size: 18px;\n  line-height: 1.4;\n  max-width: 900px;\n  padding: 60px 20px 0;\n`;\n\nfunction Proposal({ metadata, summary }) {\n  return (\n    <MainLayout>\n      <Wrapper>\n        <Containter>\n          <h1>{metadata.title}</h1>\n          <h2>{metadata.description}</h2>\n          <ReactMarkdown source={summary} escapeHtml={false} />\n        </Containter>\n      </Wrapper>\n    </MainLayout>\n  );\n}\n\nProposal.getInitialProps = async function(context) {\n  const metadata = await getProposalMetadata(1);\n  const summary = await getProposalSummary(1);\n  return { metadata, summary };\n};\n\nexport default Proposal;\n","import fetch from \"isomorphic-unfetch\";\n\nexport const getProposalMetadata = async (\n  gitlabProjectId,\n  refName = \"master\"\n) => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/metadata%2Ejson/raw?ref=${refName}`\n  )\n    .then(response => response.json())\n    .then(data => data);\n  return res;\n};\n\nexport const getProposalSummary = async (\n  gitlabProjectId,\n  refName = \"master\"\n) => {\n  const res = await fetch(\n    `${process.env.GITLAB_BASE_URL}/projects/${gitlabProjectId}/repository/files/summary%2Emd/raw?ref=${refName}`\n  )\n    .then(response => response.text())\n    .then(data => data);\n  return res;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAMA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAGA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;ACzCA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AATA;AAIA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AATA;AAIA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}