{"version":3,"file":"static/webpack/static/development/pages/p/[proposal]/branch/[branch]/edit.js.fdf81cfd0d6afd74bf46.hot-update.js","sources":["webpack:///./components/ProposalForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport styled from \"styled-components\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport ContentContainer from \"./ContentContainer\";\nimport RichTextEditor from \"./RIchTextEditor\";\nimport MainLayout from \"../layouts/MainLayout\";\nimport { CREATE_PROPOSAL_MUTATION } from \"../mutations\";\n\nconst SubNav = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100px;\n`;\n\nconst Title = styled.h1`\n  line-height: 1;\n  margin: 0;\n`;\n\nconst CreateButton = styled.button`\n  border: none;\n  background: #372237;\n  border-radius: 2px;\n  color: white;\n  font-size: 18px;\n  padding: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst Form = styled.form`\n  padding: 40px 0;\n`;\n\nconst TitleInput = styled.input`\n  font-size: 18px;\n  padding: 12px 10px;\n  width: 100%;\n`;\n\nconst DescriptionInput = styled.textarea`\n  font-size: 18px;\n  margin-top: 30px;\n  resize: none;\n  padding: 12px 10px;\n  width: 100%;\n`;\n\nconst SummaryInput = styled(RichTextEditor)`\n  font-size: 18px;\n  margin-top: 30px;\n`;\n\nconst LegalInput = styled(RichTextEditor)`\n  font-size: 18px;\n  margin-top: 30px;\n`;\n\nfunction ProposalForm({\n  formTitle,\n  initialDescription,\n  initialSummary,\n  initialLegal\n}) {\n  const router = useRouter();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [summary, setSummary] = useState(\"\");\n  const [legal, setLegal] = useState(\"\");\n  const [createProposal, { data }] = useMutation(CREATE_PROPOSAL_MUTATION, {\n    onCompleted() {\n      router.push(\"/\", \"/\", {\n        getInitialProps: true\n      });\n    }\n  });\n\n  const handleSubmit = () => {\n    createProposal({\n      variables: {\n        title,\n        description,\n        summary,\n        legal\n      }\n    });\n  };\n\n  return (\n    <MainLayout>\n      <ContentContainer>\n        <SubNav>\n          <Title>{formTitle}</Title>\n          <CreateButton onClick={() => handleSubmit()}>Create</CreateButton>\n        </SubNav>\n        <Form onSubmit={() => handleSubmit()}>\n          <TitleInput\n            placeholder=\"Title\"\n            onChange={e => setTitle(e.target.value)}\n          />\n          <DescriptionInput\n            placeholder=\"Description\"\n            value={description || initialDescription}\n            rows={4}\n            onChange={e => setDescription(e.target.value)}\n          />\n          <SummaryInput\n            placeholder=\"Summary\"\n            value={summary || initialSummary}\n            onChange={setSummary}\n          />\n          <LegalInput\n            placeholder=\"Legal\"\n            value={legal || initialLegal}\n            onChange={setLegal}\n          />\n        </Form>\n      </ContentContainer>\n    </MainLayout>\n  );\n}\n\nexport default ProposalForm;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AAIA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAOA;AACA;AACA;AADA;AAGA;AALA;AANA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}